import subprocess
import socket

# Specify the IP address and port you want to check
device_ip = '192.168.88.74'
port = 80

# Run the ping command to check the connectivity to the device
ping_command = ['ping', '-c', '4', device_ip]  # '-c' specifies the number of pings to send
process = subprocess.Popen(ping_command, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
output, error = process.communicate()

# Check if the ping was successful
if process.returncode == 0:
    print("Device with IP address", device_ip, "is reachable.")

    # Check if the specified port is available
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    result = sock.connect_ex((device_ip, port))
    if result == 0:
        print("Port", port, "is available on the device.")
    else:
        print("Port", port, "is not available on the device.")
else:
    print("Device with IP address", device_ip, "is not reachable.")
    print('Error:', error.decode('utf-8'))